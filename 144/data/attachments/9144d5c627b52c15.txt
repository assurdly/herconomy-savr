try {
    const jsonData = pm.response.json();
    const accesstoken = jsonData.token;
    pm.environment.set("savrToken", accesstoken);

    pm.test("Status code is 200", function () {
        pm.response.to.have.status(200);
    });

    // pm.test("Response body property", function () {
    //     pm.expect(jsonData).to.be.an('object');
    //     pm.expect(jsonData.user).to.be.an('object');
    //     pm.expect(jsonData.user.user_role).to.be.an('array');
    // });

    pm.test("Status code name has string", function () {
        pm.response.to.have.status("OK");
    });

    pm.test("User has valid property", () => {
        pm.expect(jsonData.user).to.have.property('has_performed_transaction');
        pm.expect(jsonData.user).to.have.property('id');
        pm.expect(jsonData.user).to.have.property('username');
        pm.expect(jsonData.user).to.have.property('email');
        pm.expect(jsonData.user).to.have.property('first_name');
        pm.expect(jsonData.user).to.have.property('last_name');
        pm.expect(jsonData.user).to.have.property('moniker');
        pm.expect(jsonData.user).to.have.property('tier');
        pm.expect(jsonData.user).to.have.property('user_tag');
        pm.expect(jsonData.user).to.have.property('gender');
        pm.expect(jsonData.user).to.have.property('title');
    })
} catch (error) {
    console.error(error)
}
